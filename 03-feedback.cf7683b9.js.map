{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAKpC,GAHAF,EAAKG,iBAAiB,QAASC,EAAAN,GAAEO,UAYjC,SAAsBC,GACpBC,aAAaC,QACX,sBACAC,KAAKC,UAAUC,K,GAfqC,MACxDX,EAAKG,iBAAiB,UAkBtB,SAAsBG,GACpBA,EAAMM,iBAENC,QAAQC,IAAIH,KAEZL,EAAMS,cAAcC,QAEpBT,aAAaU,WAAW,sB,IAvBtBV,aAAaW,QAAQ,uBAAwB,CAC/C,IAAMC,EAAkBV,KAAKW,MAC3Bb,aAAaW,QAAQ,wBAGvBlB,EAAKqB,SAASC,MAAMC,MAAQJ,EAAgBG,MAC5CtB,EAAKqB,SAASG,QAAQD,MAAQJ,EAAgBK,O,CAoBhD,SAASb,IACP,IAA2Bc,EAAAzB,EAAKqB,SAAxBC,EAAmBG,EAAnBH,MAAOE,EAAYC,EAAZD,QACf,MAAO,CAAEF,MAAOA,EAAMC,MAAOC,QAASA,EAAQD,M","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from \"lodash\";\n\nconst form = document.querySelector(\".feedback-form\");\n\nform.addEventListener(\"input\", _.throttle(onFormChange, 500));\nform.addEventListener(\"submit\", onFormSubmit);\n\nif (localStorage.getItem(\"feedback-form-state\")) {\n  const dataFromStorage = JSON.parse(\n    localStorage.getItem(\"feedback-form-state\")\n  );\n\n  form.elements.email.value = dataFromStorage.email;\n  form.elements.message.value = dataFromStorage.message;\n}\n\nfunction onFormChange(event) {\n  localStorage.setItem(\n    \"feedback-form-state\",\n    JSON.stringify(currentFormDataToObj())\n  );\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  console.log(currentFormDataToObj());\n\n  event.currentTarget.reset();\n\n  localStorage.removeItem(\"feedback-form-state\");\n}\n\nfunction currentFormDataToObj() {\n  const { email, message } = form.elements;\n  return { email: email.value, message: message.value };\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","addEventListener","$parcel$interopDefault","throttle","event","localStorage","setItem","JSON","stringify","$b00c40859be242c5$var$currentFormDataToObj","preventDefault","console","log","currentTarget","reset","removeItem","getItem","$b00c40859be242c5$var$dataFromStorage","parse","elements","email","value","message","_elements"],"version":3,"file":"03-feedback.cf7683b9.js.map"}